<!DOCTYPE html>
<html>

<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">

    <!-- Bootstrap CSS -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.11.0/umd/popper.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Secular+One&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.12.9/dist/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.14.3/dist/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.1.3/dist/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>




    <script src="js/index.js"></script>
    <title>paris pizza</title>
    <link rel="stylesheet" href="compose.css">

    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800">
    <link href="https://fonts.googleapis.com/css?family=Josefin+Slab:100,300,400,600,700,100italic,300italic,400italic,600italic,700italic">

    <script src="js/jquery.js"></script>
</head>

<body>
    <div>
        <nav class="autohide navbar navbar-light navbar-expand-lg bg-warning">

            <a class="navbar-brand" href="#">Pizza Paris</a>

            <button class="navbar-toggler" type="button color" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>

            <div class="collapse navbar-collapse navspied" id="navbarNavAltMarkup">
                <div class="navbar-nav">

                    <a class="nav-item nav-link" type="button" href="/">Menu</a>

                    <div class="dropdown"></div>

                    </button>
                    <div class="dropdown float-right cart">

                        <button class="btn  btn-danger dropdown-toggle" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                            Panier
                        </button>
                        <div class="dropdown-menu cartdiv">
                            <ul class="list-group show-cart-drop">

                            </ul>
                            <div class="dropdown-divider"></div>
                            <a href="#panier" data-toggle="modal" data-target="#cart" onclick="displayCartModal()">Panier(<span
                                    class="total-count btn btn-info cart"></span>)</a>
                        </div>
                    </div>

                </div>

            </div>


        </nav>
        <h1>Composer Ta Pizza !!</h1>



        <div class="modal fade" id="cart" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
            <div class="modal-dialog modal-lg" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="exampleModalLabel">Panier</h5>
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                    </div>
                    <div class="modal-body">
                        <table class="show-cart table">

                        </table>
                        <div>Total price: <span class="total-cart"></span> €</div>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                        <button type="button" class="btn btn-primary">Order now</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
    </div>


    <h2>nombre</h2>


    <input type="number" name="nb">
    <div id="ctp" class="content">
        <div class="tailleBase component">
            <div class="ribbon">
                <h2>TAILLE &amp; BASE</h2>
                <form id="price">
                    <input type="radio" name="size" value="Small">Small<br>
                    <input type="radio" name="size" value="Medium">Medium<br>

                    <input type="radio" name="sauce" value="tomate">Sauce Tomates <br>
                    <input type="radio" name="sauce" value="blanche">Sauce Blanche<br>

                </form>
                <p id="responses">
                </p>
            </div>






            <div class="viande component ">
                <div class="ribbon ">
                    <h2>LES VIANDES</h2>


                    <div class="text-content ">
                        <% for (p=0 ; p < viandes.length; p++) { %>

                            <div class="ingredients" id="viandes">
                                <img class=" lazyloaded " id=" vd " width="100 " src=<%=viandes[p].link_img %> >
                                <p>
                                    <%= viandes[p].v_name %>
                                </p>
                                <p class="1" value="1 ">
                                    <%= viandes[p].v_prix %>$
                                </p>
                                <a href="#" id="ajt" data-name="<%=viandes[p].v_name%>" data-price=" <%=viandes[p].v_prix%>" class="add-to-cart_cp btn btn-info">Ajouter</a>

                            </div>

                            <% } %>




                    </div>
                </div>

                <div class="veggie component ">
                    <div class="ribbon ">
                        <h2>LES LÉGUMES</h2>

                        <div class="text-content ">
                            <% for (p=0 ; p < legumes.length; p++) { %>
                                <div class="ingredients ">
                                    <img class=" lazyloaded " id="legumes " width="100 " src=<%=legumes[p].link_img %> >

                                    <p>
                                        <%= legumes[p].leg_name %>
                                    </p>
                                    <p>
                                        <%= legumes[p].leg_prix %> $

                                    </p>
                                    <a href="#" id="ajt" data-name="<%=legumes[p].leg_name%>" data-price="<%= legumes[p].leg_prix %>" class="add-to-cart_cp btn btn-info">Ajouter</a>

                                </div>

                                <% } %>




                        </div>
                    </div>

                    <div class="veggie component ">
                        <div class="ribbon ">
                            <h2>LES FROMAGES</h2>

                            <div class="text-content ">
                                <% for (p=0 ; p < fromages.length; p++) { %>
                                    <div class="ingredients ">
                                        <img class=" lazyloaded " id="legumes " width="100 " src=<%=fromages[p].link %> >

                                        <p>
                                            <%= fromages[p].f_name %>
                                        </p>

                                        <p>
                                            <%= fromages[p].f_prix %> $
                                        </p>
                                        <a href="#" id="ajt" data-name="<%=fromages[p].f_name%>" data-price="<%= fromages[p].f_prix %>" class="add-to-cart_cp btn btn-info">Ajouter</a>

                                    </div>

                                    <% } %>




                            </div>
                        </div>
                        <div class="veggie component ">
                            <div class="ribbon ">
                                <h2>LES SAUCES</h2>

                                <div class="text-content ">
                                    <% for (p=0 ; p < sauces.length; p++) { %>
                                        <div class="ingredients ">
                                            <img class=" lazyloaded " id="legumes " width="100 " src=<%=sauces[p].link_img %> >

                                            <p>
                                                <%= sauces[p].sc_name %>
                                            </p>
                                            <p>
                                                <%= sauces[p].sc_prix %> $
                                            </p>
                                            <a href="#" id="ajt" data-name="<%=sauces[p].sc_name%>" data-price="<%= sauces[p].sc_prix %>" class="add-to-cart_cp btn btn-info">Ajouter</a>


                                        </div>

                                        <% } %>




                                </div>
                                <div class="cmd_cp ">
                                    <div class="ribbon ">
                                        <button class="button" id="cpm">Commander</button>

                                        <script>
                                            document.getElementById("cpm").disabled = true;
                                        </script>

                                    </div>
                                </div>

                            </div>


                        </div>



                        <script>
                            var pizzaPrice = 0;

                            function Pizza(size, sauce, pizzaPrice) {
                                this.size = size;
                                this.sauce = sauce;
                                this.pizzaPrice = 0;
                            }
                            var error = "";
                            Pizza.prototype.price = function() {
                                if (this.sauce === "tomate" || this.sauce === "blanche") {
                                    if (this.size === "Small") {
                                        this.pizzaPrice += 2;
                                    } else {
                                        this.pizzaPrice += 3;
                                    }
                                }




                                return this.pizzaPrice;
                            }




                            function eid(id) {
                                //renvoie l'élément de la page ayant l'id passé en paramètre
                                return document.getElementById(id);
                            }

                            $(document).ready(function() {
                                $(".lazyloaded").click(function(event) {
                                    eid(total).inner = "50"
                                });

                                $("#sbt").click(function(event) {
                                    event.preventDefault();

                                    var size = $("input[type=radio][name=size]:checked").val();
                                    var sauce = $("input[type=radio][name=sauce]:checked").val();
                                    var newPizza = new Pizza(size, sauce, pizzaPrice);
                                    pr = newPizza.price();
                                    $("#responses").append("<p>" + "You ordered a " + newPizza.sauce + " " + newPizza.size + " " + ". Your total price is " + pr + "</p>");
                                });


                            });
                        </script>



</body>